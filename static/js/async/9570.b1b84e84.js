"use strict";(self.webpackChunk_lynx_js_react_use=self.webpackChunk_lynx_js_react_use||[]).push([["9570"],{7260:function(e,n,s){s.r(n),s.d(n,{default:()=>o});var t=s(2676),i=s(453);function a(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",pre:"pre",code:"code"},(0,i.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.h1,{id:"usestaytime",children:["useStayTime",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#usestaytime",children:"#"})]}),"\n",(0,t.jsx)(n.p,{children:"用于统计元素可见时长的 Hook，支持手动控制。"}),"\n",(0,t.jsxs)(n.h2,{id:"示例",children:["示例",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import { useStayTime } from "@lynx-js/react-use";\n\nexport function StayTimer() {\n  const {\n    stayTimeMs,\n    isRunning,\n    exposureProps,\n    pause,\n    resume,\n    reset,\n  } = useStayTime({\n    admissionTimeMs: 60,\n    onRunningChange: ({ isRunning, stayTimeMs }) => {\n      console.log("running?", isRunning, "ms:", stayTimeMs);\n    },\n  });\n\n  return (\n    <view>\n      <view {...exposureProps}>\n        <text>停留时长: {stayTimeMs}ms</text>\n        <text>状态: {isRunning ? "计时中" : "已停止"}</text>\n      </view>\n      <button bindtap={pause}>暂停</button>\n      <button bindtap={resume}>恢复</button>\n      <button bindtap={reset}>重置</button>\n    </view>\n  );\n}\n'})}),"\n",(0,t.jsxs)(n.h2,{id:"类型定义",children:["类型定义",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#类型定义",children:"#"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"export interface IUseStayTimeOptions<\n  EA extends Record<string, string | number | boolean | undefined>\n> extends IUseExposureForNodeOptions<EA> {\n  isStaying?: boolean;\n  onRunningChange?: (info: { isRunning: boolean; stayTimeMs: number }) => void;\n}\n\nexport interface IUseStayTimeReturn<\n  EA extends Record<string, string | number | boolean | undefined>\n> {\n  stayTimeMs: number;\n  isRunning: boolean;\n  exposureProps:\n    | {\n        binduiappear?: (e: UIAppearanceTargetDetail) => void;\n        binduidisappear?: (e: UIAppearanceTargetDetail) => void;\n      } & TExposureAttrBag &\n        EA;\n  pause: () => void;\n  resume: () => void;\n  reset: () => void;\n}\n"})})]})}function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}let o=r;r.__RSPRESS_PAGE_META={},r.__RSPRESS_PAGE_META["zh%2Fevents%2FuseStayTime.md"]={toc:[{text:"示例",id:"示例",depth:2},{text:"类型定义",id:"类型定义",depth:2}],title:"useStayTime",headingTitle:"useStayTime",frontmatter:{}}}}]);
"use strict";(self.webpackChunk_lynx_js_react_use=self.webpackChunk_lynx_js_react_use||[]).push([["162"],{6655:function(e,n,s){s.r(n),s.d(n,{default:()=>o});var r=s(2676),i=s(453);function a(e){let n=Object.assign({h1:"h1",a:"a",p:"p",code:"code",h2:"h2",pre:"pre"},(0,i.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"useexposureforpage",children:["useExposureForPage",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#useexposureforpage",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["Page-level exposure hook that consumes ",(0,r.jsx)(n.code,{children:"GlobalEventEmitter"})," events and manages multiple items with admission gating."]}),"\n",(0,r.jsxs)(n.h2,{id:"usage",children:["Usage",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#usage",children:"#"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:'import { useExposureForPage } from "@lynx-js/react-use";\n\nconst items = [\n  { id: "card-1", title: "A" },\n  { id: "card-2", title: "B" },\n];\n\nexport function Feed() {\n  const { isInView, exposureProps } = useExposureForPage({\n    attrs: { "exposure-scene": "feed" },\n    admissionTimeMs: 80,\n    onAppear: (_detail, info) => console.log("appear", info.exposureId),\n    onDisappear: (_detail, info) => console.log("disappear", info.exposureId),\n  });\n\n  return (\n    <view>\n      {items.map((item) => (\n        <view key={item.id} {...exposureProps({ id: item.id })}>\n          <text>\n            {item.title} {isInView(item.id) ? "(visible)" : "(hidden)"}\n          </text>\n        </view>\n      ))}\n    </view>\n  );\n}\n'})}),"\n",(0,r.jsxs)(n.h2,{id:"type-declarations",children:["Type Declarations",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#type-declarations",children:"#"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:'export interface IUseExposureForPageOptions<\n  EA extends Record<string, string | number | boolean | undefined>\n> {\n  attrs?: Omit<TExposureAttrBag, "exposure-id"> & EA;\n  admissionMs?: number;\n  admissionTimeMs?: number;\n  onAppear?: (\n    e: UIAppearanceTargetDetail,\n    info: { exposureId?: string; exposureScene?: string }\n  ) => void;\n  onDisappear?: (\n    e: UIAppearanceTargetDetail,\n    info: { exposureId?: string; exposureScene?: string }\n  ) => void;\n  onChange?: (\n    e: UIAppearanceTargetDetail,\n    info: { isInView: boolean; exposureId?: string; exposureScene?: string }\n  ) => void;\n}\n\nexport interface IUseExposureForPageReturn<\n  EA extends Record<string, string | number | boolean | undefined>\n> {\n  isInView: (exposureId: string) => boolean;\n  exposureProps: (p: { id: string; extra?: EA }) => TExposureAttrBag & EA;\n}\n'})})]})}function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}let o=t;t.__RSPRESS_PAGE_META={},t.__RSPRESS_PAGE_META["en%2Fevents%2FuseExposureForPage.md"]={toc:[{text:"Usage",id:"usage",depth:2},{text:"Type Declarations",id:"type-declarations",depth:2}],title:"useExposureForPage",headingTitle:"useExposureForPage",frontmatter:{}}}}]);
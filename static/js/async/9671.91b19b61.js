"use strict";(self.webpackChunk_lynx_js_react_use=self.webpackChunk_lynx_js_react_use||[]).push([["9671"],{470:function(e,n,r){r.r(n),r.d(n,{default:()=>a});var s=r(2676),i=r(453);function o(e){let n=Object.assign({h1:"h1",a:"a",p:"p",code:"code",h2:"h2",pre:"pre"},(0,i.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h1,{id:"useexposureforpage",children:["useExposureForPage",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#useexposureforpage",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["页面级曝光 Hook，监听 ",(0,s.jsx)(n.code,{children:"GlobalEventEmitter"})," 的曝光/反曝光事件并支持准入等待。"]}),"\n",(0,s.jsxs)(n.h2,{id:"示例",children:["示例",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'import { useExposureForPage } from "@lynx-js/react-use";\n\nconst items = [\n  { id: "card-1", title: "A" },\n  { id: "card-2", title: "B" },\n];\n\nexport function Feed() {\n  const { isInView, exposureProps } = useExposureForPage({\n    attrs: { "exposure-scene": "feed" },\n    admissionTimeMs: 80,\n    onAppear: (_detail, info) => console.log("appear", info.exposureId),\n    onDisappear: (_detail, info) => console.log("disappear", info.exposureId),\n  });\n\n  return (\n    <view>\n      {items.map((item) => (\n        <view key={item.id} {...exposureProps({ id: item.id })}>\n          <text>\n            {item.title} {isInView(item.id) ? "(可见)" : "(不可见)"}\n          </text>\n        </view>\n      ))}\n    </view>\n  );\n}\n'})}),"\n",(0,s.jsxs)(n.h2,{id:"类型定义",children:["类型定义",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#类型定义",children:"#"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:'export interface IUseExposureForPageOptions<\n  EA extends Record<string, string | number | boolean | undefined>\n> {\n  attrs?: Omit<TExposureAttrBag, "exposure-id"> & EA;\n  admissionMs?: number;\n  admissionTimeMs?: number;\n  onAppear?: (\n    e: UIAppearanceTargetDetail,\n    info: { exposureId?: string; exposureScene?: string }\n  ) => void;\n  onDisappear?: (\n    e: UIAppearanceTargetDetail,\n    info: { exposureId?: string; exposureScene?: string }\n  ) => void;\n  onChange?: (\n    e: UIAppearanceTargetDetail,\n    info: { isInView: boolean; exposureId?: string; exposureScene?: string }\n  ) => void;\n}\n\nexport interface IUseExposureForPageReturn<\n  EA extends Record<string, string | number | boolean | undefined>\n> {\n  isInView: (exposureId: string) => boolean;\n  exposureProps: (p: { id: string; extra?: EA }) => TExposureAttrBag & EA;\n}\n'})})]})}function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}let a=t;t.__RSPRESS_PAGE_META={},t.__RSPRESS_PAGE_META["zh%2Fevents%2FuseExposureForPage.md"]={toc:[{text:"示例",id:"示例",depth:2},{text:"类型定义",id:"类型定义",depth:2}],title:"useExposureForPage",headingTitle:"useExposureForPage",frontmatter:{}}}}]);